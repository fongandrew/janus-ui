@import '~/shared/style/common.css';

@layer components {
	.c-toggle-switch {
		position: relative;
		display: inline-flex;
		height: 1lh;
		width: 2.75em;
		cursor: pointer;
		align-items: center;
		border-radius: var(--radius-full);
		border-width: var(--border-width-md);
		border-style: solid;
		background-color: var(--input-bg);
		box-shadow: var(--shadow-inner);

		@mixin transition-color;
		@mixin border-dynamic var(--secondary-fg);
	}

	.c-toggle-switch:has(input:checked) {
		background-color: var(--primary);
	}

	.c-toggle-switch input {
		@mixin sr-only;
	}

	.c-toggle-switch:has(input:focus-visible) {
		@mixin focus-ring;
	}

	.c-toggle-switch__thumb {
		position: absolute;
		left: 0.125em;
		height: 1em;
		width: 1em;
		border-radius: var(--radius-full);
		background-color: var(--input-fg);

		@mixin transition transform;
	}

	.c-toggle-switch:has(input:checked) .c-toggle-switch__thumb {
		transform: translateX(1.25em);
		background-color: var(--primary-fg);
	}

	@layer utilities {
		.c-toggle-switch--error,
		.c-toggle-switch:has([aria-invalid='true']) {
			@mixin border-dynamic var(--danger);
		}

		.c-toggle-switch:has([aria-disabled='true']) {
			cursor: not-allowed;
			background-color: var(--input-disabled-bg);
		}
	}
}
