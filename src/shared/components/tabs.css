@import '~/shared/styles/common.css';

@layer variables {
	:root {
		--c-tabs__max-width: 16em;
	}
}

@layer components {
	.c-tabs__bar {
		@mixin t-border-bottom;

		display: flex;
		overflow: auto;

		/*
			Move focus ring to bar since there are clipping issues when it's on the
			tab button itself.
		*/
		&:has(:focus-visible) {
			@mixin t-focus-ring;
			@mixin t-radius-inner;

			:focus-visible {
				outline: none;
			}
		}
	}

	.c-tabs__button {
		@mixin t-font-weight var(--v-font-weight-label);
		@mixin t-text-muted;

		border-width: 0 0 var(--v-border-width-lg) 0;
		display: block;
		flex-grow: 1;
		flex-basis: 0;
		max-width: var(--c-tabs__max-width);
		white-space: nowrap;

		&:hover,
		&:focus-visible {
			color: var(--v-fg);
		}

		/* Active state */
		&[aria-selected='true'] {
			border-color: var(--v-primary-bg);
			color: var(--v-fg);
		}

		&:first-child {
			padding-left: var(--v-spacing);
		}

		&:last-child {
			padding-right: var(--v-spacing);
		}
	}

	.c-tabs__panel {
		outline: none;

		&:focus-visible {
			@mixin t-focus-ring;
			@mixin t-radius-inner;
		}
	}
}
