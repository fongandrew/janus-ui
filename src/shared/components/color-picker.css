@import '~/shared/style/common.css';

@layer components {
	.c-color-picker {
		position: relative;
		display: flex;
		gap: var(--space-sm);
		min-height: var(--input-height-md);
		overflow-x: hidden;
		border-radius: var(--radius-md);
		border-width: var(--border-width-md);
		border-style: solid;
		background-color: var(--input-bg);
		text-align: right;
		font-weight: var(--font-weight-normal);
		color: var(--input-fg);
		box-shadow: var(--shadow-inner);

		@mixin transition-color;
		@mixin border-dynamic var(--secondary);
		@mixin input-size-md;
	}

	.c-color-picker__swatch {
		height: 1lh;
		width: 1lh;
		border-radius: var(--radius-sm);
		box-shadow: var(--shadow-sm);
	}

	.c-color-picker__value {
		color: var(--muted);
	}

	.c-color-picker__input {
		/* Input floats on top of the entire pseudo-input and intercepts clicks */
		position: absolute;
		inset: 0;
		height: 100%;
		width: 100%;
		cursor: pointer;
		opacity: 0;
		outline: none;
	}

	.c-color-picker:has(:focus-visible) {
		@mixin focus-ring;
	}

	.c-color-picker:has(:invalid, [aria-invalid='true']) {
		@mixin error-input;
	}

	.c-color-picker:has(:disabled, [aria-disabled='true']) {
		@mixin disabled-input;
	}
}
