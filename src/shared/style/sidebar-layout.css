@layer components {
	/* Default closed on mobile */
	.c-sidebar {
		@apply hidden overflow-auto border-r-md bg-card text-card-fg shadow border-dynamic-card;
	}

	.c-sidebar-layout--open .c-sidebar {
		@apply fixed bottom-0 left-0 top-0 z-above-backdrop block w-[90vw] max-w-sidebar;
	}

	.c-sidebar__overlay {
		@apply fixed inset-0 z-backdrop hidden bg-backdrop;
	}

	.c-sidebar-layout--open .c-sidebar__overlay {
		@apply block;
	}

	@media screen(sm) {
		.c-sidebar-layout {
			@apply flex h-[100vh] w-[100vw] overflow-hidden;
		}

		/* Default open on desktop */
		.c-sidebar,
		.c-sidebar-layout--open .c-sidebar {
			@apply relative block w-sidebar flex-shrink-0;
		}

		.c-sidebar__overlay,
		.c-sidebar-layout--open .c-sidebar__overlay {
			@apply hidden;
		}

		/* Can be explicitly closed on desktop */
		.c-sidebar-layout--closed .c-sidebar {
			@apply hidden;
		}

		/*
            Open button is conditionally visible on desktop. Not really relevant on
            mobile or for close button since those get automatically shown / hidden
            based on sidebar visibility.
        */
		.c-sidebar__open-button {
			@apply hidden;
		}

		.c-sidebar-layout--closed .c-sidebar__open-button {
			@apply inline-flex;
		}

		.c-sidebar__close-button {
			/* noop, just here to appease linter for now */
		}
	}
}
